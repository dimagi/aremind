{% extends "adherence/base.html" %}
{% load pagination_tags sorting_tags %}

{% block content %}
{{ block.super }}
<h1>UW Kenya Study Results Report</h1>
<div class="module">
{% autosort results %}
{% autopaginate results 20 %}
<table class="pagination sortable adherence-report">
<thead>
  <tr>
    <th style="width: 175px;">{% anchor start_date "Date Survey Began"%}</th>
    <th>Test?</th>
    <th>Status</th>
    <th>{% anchor subject_number "Subject ID"%}</th>
    <th>{% anchor phone "Mobile Number"%}</th>
    <th>{% anchor mobile_network "Network"%}</th>
    <th>{% anchor language "Language"%}</th>
    <th>{% anchor daily_question1_response "Daily Q. 1"%}</th>
    <th>{% anchor daily_question2_response "Daily Q. 2"%}</th>
    <th>{% anchor daily_question3_response "Daily Q. 3"%}</th>
    <th>{% anchor daily_question4_response "Daily Q. 4"%}</th>
    <th>{% anchor monthly_question1_response "Monthly Q. 1"%}</th>
    <th>{% anchor monthly_question2_response "Monthly Q. 2"%}</th>
    <th>Answer Count</th>
  </tr>
</thead>
<tbody>
{% for result in results %}
<tr class="{% cycle 'odd' 'even' %}">
  <td>{{ result.start_date }}</td>
  <td>{{ result.is_test }}</td>
  <td>{{ result.get_status_display }}</td>
  <td>{{ result.subject_number }}</td>
  <td>{{ result.phone }}</td>
  <td>{{ result.mobile_network }}</td>
  <td>{{ result.language }}</td>
  <td>{{ result.daily_question1_response }}</td>
  <td>{{ result.daily_question2_response }}</td>
  <td>{{ result.daily_question3_response }}</td>
  <td>{{ result.daily_question4_response }}</td>
  <td>{{ result.monthly_question1_response }}</td>
  <td>{{ result.monthly_question2_response }}</td>
  <td>{{ result.questions_answered|default_if_none:"" }}</td>
</tr>
{% endfor %}
</tbody>
<tfoot>
  <tr><td colspan="5">{% paginate %}</td>
</tfoot>
</table>
</div>
{% endblock %}
